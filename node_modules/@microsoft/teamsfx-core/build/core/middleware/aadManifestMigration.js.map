{"version":3,"file":"aadManifestMigration.js","sourceRoot":"","sources":["../../../src/core/middleware/aadManifestMigration.ts"],"names":[],"mappings":"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"}